<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- SEO Meta Tags -->
<meta name="description" content="Hi everyone, I hope you&#39;ll be able to help me as I&#39;ve been struggling with this problem for quite some time now. First of all, I would like... - v/programming">
<meta name="keywords" content="programming, code, background, pick, color, colors, quot, image, mainly, red">
<meta name="author" content="Redd Archive Demo">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://online-archives.github.io/redd-archiver-example/v/programming/comments/236082.html">

<!-- Open Graph Tags -->
<meta property="og:title" content="v/programming: How do I pick the best color?">
<meta property="og:description" content="Hi everyone, I hope you&#39;ll be able to help me as I&#39;ve been struggling with this problem for quite some time now. First of all, I would like... - v/programming">
<meta property="og:type" content="article">
<meta property="og:url" content="https://online-archives.github.io/redd-archiver-example/v/programming/comments/236082.html">
<meta property="og:site_name" content="Redd Archive Demo">

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="v/programming: How do I pick the best color?">
<meta name="twitter:description" content="Hi everyone, I hope you&#39;ll be able to help me as I&#39;ve been struggling with this problem for quite some time now. First of all, I would like... - v/programming">

    <!-- Favicon -->
<link rel="icon" href="../../../../static/favicon.ico" sizes="32x32">
    <link rel="icon" href="../../../../static/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="../../../../static/apple-touch-icon.png">
    <link rel="manifest" href="../../../../static/site.webmanifest">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "DiscussionForumPosting",
  "headline": "How do I pick the best color?",
  "author": {
    "@type": "Person",
    "name": "cassis"
  },
  "datePublished": "2015-07-10T01:27:28Z",
  "interactionStatistic": {
    "@type": "InteractionCounter",
    "interactionType": "https://schema.org/CommentAction",
    "userInteractionCount": 1
  },
  "isPartOf": {
    "@type": "WebSite",
    "name": "v/programming Archive",
    "url": "https://online-archives.github.io/redd-archiver-example"
  },
  "text": "Hi everyone, I hope you'll be able to help me as I've been struggling with this problem for quite some time now. First of all, I would like to explain what I'm trying to do. I have a bunch of pictures with one or two main colors that I know of. image1.jpg has mainly #00a5c2 and #f77117. image2.jpg has mainly #8000ff. Additionally, I have a series of preset background colors. background 1 is #fe0bbf. background 2 is #07b594. All of this information comes from a database filled by users. Given a..."
}
</script>
    <!-- Font preload removed - using system fonts for instant rendering -->

    <!-- Theme Toggle -->
    <input type="checkbox" id="dark-theme-toggle">

    <!-- Universal CSS Build -->
    <link rel="stylesheet" href="../../../../static/css/redd-archiver-universal.css">


    <title>v/programming: How do I pick the best color?</title>
  </head>
  <body>
    <div class="site-content">
<header>
  <nav class="navbar navbar-expand-sm navbar-dark bg-primary">
    <a class="navbar-brand" href="../../../../v/programming/index.html">v/programming</a>
    <input type="checkbox" id="navbar-toggle" class="navbar-toggle">
    <label for="navbar-toggle" class="navbar-toggler" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </label>
    <div class="navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="../../../../v/programming/index.html">score</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../v/programming/index-comments/index.html">comments</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../v/programming/index-date/index.html">date</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../search">search</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../index.html">home</a>
        </li>
        <li class="nav-item">
          <label for="dark-theme-toggle" class="nav-link theme-toggle" title="Toggle dark theme"></label>
        </li>
      </ul>
    </div>
  </nav>
</header>

    <main role="main" class="container-fluid">
<div class="submission pt-3" data-id="voat_236082">
  <h3 class="title">
      How do I pick the best color?
    
    
    
    
    
    
  </h3>
  <p>
    <span class="badge badge-primary" title="Score: 2">2</span>
    &nbsp;&nbsp;
    <span title="Posted: 2015-07-10 01:27:28 UTC">10 Jul 2015 01:27</span>
    by <span ><a class="user-link" href="../../../../user/cassis/">u/cassis</a>
</span>
    
    
    <span title=""></span>
  </p>
  <div class="card mt-3 mb-3">
    <div class="card-body">
      <div class="md"><p>Hi everyone,</p>
<p>I hope you'll be able to help me as I've been struggling with this problem for quite some time now.</p>
<p>First of all, I would like to explain what I'm trying to do.</p>
<p>I have a bunch of pictures with one or two main colors that I know of.</p>
<ul>
<li><code>image1.jpg</code> has mainly <code>#00a5c2</code> and <code>#f77117</code>.</li>
<li><code>image2.jpg</code> has mainly <code>#8000ff</code>.</li>
</ul>
<p>Additionally, I have a series of preset background colors.</p>
<ul>
<li>background 1 is <code>#fe0bbf</code>.</li>
<li>background 2 is <code>#07b594</code>.</li>
</ul>
<p>All of this information comes from a database filled by users.</p>
<p>Given a random image, I need to pick the most &quot;distant&quot; background color, with the most &quot;contrast&quot;. For example, if I have a mostly red image, I should pick a green background. If the red color is dark, I should pick a lighter green. The idea is to not display a yellow image over a yellow background so you can't see anything.</p>
<p>What is the best way to achieve this?</p>
<p>I've tried converting the RGB colors to a few color spaces, namely YUV, XYZ, CIE-L*ab, etc., in order to find the largest distance between colors but I can't seem to sort it out.</p>
<p>The answer should be language agnostic. I'm currently working with PHP on this but will port this code to JavaScript at least and maybe other languages too. I can post the current PHP code if needed, however it might be a bit too much here.</p>
<p>Has anyone any experience or hints for this?</p>
<p>Thanks for your help!</p></div>
    </div>
  </div>
</div>

<div class="comments">
  <h4>1 comment</h4>
        <details class="comment "
         id="comment-voat_760302"
         data-depth="0"
         data-id="voat_760302"
open>
    <summary class="comment-header">
        <span class="badge badge-success-bright"
              title="Comment score: 1">
            1
        </span>
        <span class="byline text-muted">
            <span >
                <a class="user-link" href="../../../../user/ptd/">u/ptd</a>

            </span>
            
            
            
            <span title="Posted: 2015-07-10 07:44:34 UTC">10 Jul 2015 07:44</span>
        </span>
    </summary>
    <div class="md"><p>I've worked on a similar problem recently in javascript for my startup. In my case I needed to pick the most prevelant non dark color. So a bit different but some of the same principles should apply. My steps were as follows:
1. Get the colors
2. Get the weight of the colors (how prevelant each one is)
3. Convert RGB over to hex equivelant
4. Perform a luma check to get a brightness value for each color</p>
<p>From there you should be able to pick your color based on  your criteria. Here are some of the utility functions I used.</p>
<pre><code>function lumaCheck(c) {
    var c = c.substring(1);
    var rgb = parseInt(c, 16);
    var r = (rgb &gt;&gt; 16) &amp; 0xff;
    var g = (rgb &gt;&gt; 8) &amp; 0xff;
    var b = (rgb &gt;&gt; 0) &amp; 0xff;
    var luma = 0.2126 * r + 0.7152 * g + 0.0722 * b;
    return luma;
}
function componentToHex(c) {
    var hex = c.toString(16);
    return hex.length == 1 ? &quot;0&quot; + hex : hex;
}
function rgbToHex(r, g, b) {
    return &quot;#&quot; + componentToHex(r) + componentToHex(g) + componentToHex(b);
}
</code></pre>
<p>In general what you'd probably want to do is get the most prevelant color. Get its brightness (lumaCheck). Then get the color with the furthest luma value away from the picked color in your color set. You can tweak your function to decide between weight &amp; luma value until it's satisfactory. With your example the primary color would be derived from your data result and your compares against the backgrounds, I suppose.</p></div>
</details>

</div>
    </main>

<footer class="container-fluid">
  <a class="to-top mt-1 mb-1 btn btn-lg btn-primary" href="#top">top of page</a>
  <p class="small mb-0">
    last archived 28 Apr 2020
    <a href="https://github.com/19-84/redd-archiver">source code</a>
  </p>
</footer>
    </div>

  </body>
</html>