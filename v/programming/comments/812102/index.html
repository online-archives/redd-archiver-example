<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- SEO Meta Tags -->
<meta name="description" content="So I&#39;m writing an IRC bot and one of the functions replies with a subverse link if it sees &#39;v/&#39;, the problem is it is stripping the last... - v/programming">
<meta name="keywords" content="programming, subverse, test, split, stripping, crashes, str, python, crashing, charactors">
<meta name="author" content="Redd Archive Demo">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://online-archives.github.io/redd-archiver-example/v/programming/comments/812102.html">

<!-- Open Graph Tags -->
<meta property="og:title" content="v/programming: [need help] Python is crashing and stripping charactors">
<meta property="og:description" content="So I&#39;m writing an IRC bot and one of the functions replies with a subverse link if it sees &#39;v/&#39;, the problem is it is stripping the last... - v/programming">
<meta property="og:type" content="article">
<meta property="og:url" content="https://online-archives.github.io/redd-archiver-example/v/programming/comments/812102.html">
<meta property="og:site_name" content="Redd Archive Demo">

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="v/programming: [need help] Python is crashing and stripping charactors">
<meta name="twitter:description" content="So I&#39;m writing an IRC bot and one of the functions replies with a subverse link if it sees &#39;v/&#39;, the problem is it is stripping the last... - v/programming">

    <!-- Favicon -->
<link rel="icon" href="../../../../static/favicon.ico" sizes="32x32">
    <link rel="icon" href="../../../../static/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="../../../../static/apple-touch-icon.png">
    <link rel="manifest" href="../../../../static/site.webmanifest">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "DiscussionForumPosting",
  "headline": "[need help] Python is crashing and stripping charactors",
  "author": {
    "@type": "Person",
    "name": "monoxane"
  },
  "datePublished": "2016-01-23T18:44:09Z",
  "interactionStatistic": {
    "@type": "InteractionCounter",
    "interactionType": "https://schema.org/CommentAction",
    "userInteractionCount": 2
  },
  "isPartOf": {
    "@type": "WebSite",
    "name": "v/programming Archive",
    "url": "https://online-archives.github.io/redd-archiver-example"
  },
  "text": "So I'm writing an IRC bot and one of the functions replies with a subverse link if it sees 'v/', the problem is it is stripping the last character of the subverse and if there's no words after it it crashes (ie it works it there's ' test v/test test' but crashes at both 'v/test' and 'test v/test') here is the code: ~~~ if data.find('v/') != -1: x = data.split('#')[1] x = x.split('v/')[1] subverse = x.split(' ') subverse[0] = subverse[0].strip(' ' + subverse[1]) subverse = str(subverse[0])..."
}
</script>
    <!-- Font preload removed - using system fonts for instant rendering -->

    <!-- Theme Toggle -->
    <input type="checkbox" id="dark-theme-toggle">

    <!-- Universal CSS Build -->
    <link rel="stylesheet" href="../../../../static/css/redd-archiver-universal.css">


    <title>v/programming: [need help] Python is crashing and stripping charactors</title>
  </head>
  <body>
    <div class="site-content">
<header>
  <nav class="navbar navbar-expand-sm navbar-dark bg-primary">
    <a class="navbar-brand" href="../../../../v/programming/index.html">v/programming</a>
    <input type="checkbox" id="navbar-toggle" class="navbar-toggle">
    <label for="navbar-toggle" class="navbar-toggler" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </label>
    <div class="navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="../../../../v/programming/index.html">score</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../v/programming/index-comments/index.html">comments</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../v/programming/index-date/index.html">date</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../search">search</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../index.html">home</a>
        </li>
        <li class="nav-item">
          <label for="dark-theme-toggle" class="nav-link theme-toggle" title="Toggle dark theme"></label>
        </li>
      </ul>
    </div>
  </nav>
</header>

    <main role="main" class="container-fluid">
<div class="submission pt-3" data-id="voat_812102">
  <h3 class="title">
      [need help] Python is crashing and stripping charactors
    
    
    
    
    
    
  </h3>
  <p>
    <span class="badge badge-primary" title="Score: 5">5</span>
    &nbsp;&nbsp;
    <span title="Posted: 2016-01-23 18:44:09 UTC">23 Jan 2016 18:44</span>
    by <span ><a class="user-link" href="../../../../user/monoxane/">u/monoxane</a>
</span>
    
    
    <span title=""></span>
  </p>
  <div class="card mt-3 mb-3">
    <div class="card-body">
      <div class="md"><p>So I'm writing an IRC bot and one of the functions replies with a subverse link if it sees 'v/<subverse>', the problem is it is stripping the last character of the subverse and if there's no words after it it crashes (ie it works it there's ' test v/test test' but crashes at both 'v/test' and 'test v/test') here is the code:
~~~</p>
<p>			if data.find('v/') != -1:
				x = data.split('#')[1]
				x = x.split('v/')[1]
				subverse = x.split(' ')
				subverse[0] = subverse[0].strip('
' + subverse[1])
				subverse = str(subverse[0])
				Send(str('voat.co/v/') + subverse)
~~~</p>
<p>Hoping someone can help, if you can, ill pm you the git repo.</p></div>
    </div>
  </div>
</div>

<div class="comments">
  <h4>2 comments</h4>
        <details class="comment "
         id="comment-voat_4030567"
         data-depth="0"
         data-id="voat_4030567"
open>
    <summary class="comment-header">
        <span class="badge badge-success-bright"
              title="Comment score: 2">
            2
        </span>
        <span class="byline text-muted">
            <span >
                <a class="user-link" href="../../../../user/AStoney/">u/AStoney</a>

            </span>
            
            
            
            <span title="Posted: 2016-01-24 22:59:20 UTC">24 Jan 2016 22:59</span>
        </span>
    </summary>
    <div class="md"><p>I am not a big fan of Python, (bad experiences with white space dependent languages) but is there a reason you don't use Python's Regular Expression. RegEx is hugely helpful and might help you more easily understand what you were trying to do if you have to come back to it.</p>
<p><a href="https://docs.python.org/2/library/re.html#re">Python RegEx</a></p>
<pre><code>import re
#test data
data = '#test v/test test'
data2 = '#test v/test'
data3 = '#v/test test'
data4 = '#mess up your test!# v/test test'
if data.find('v/') != -1:
 match = re.search('v/(\w*)', data)
 for group in match.groups():
  Send(str('voat.co/v/') + group)
</code></pre></div>
</details>

        <details class="comment "
         id="comment-voat_4030373"
         data-depth="0"
         data-id="voat_4030373"
open>
    <summary class="comment-header">
        <span class="badge badge-warning-orange"
              title="Comment score: 0">
            0
        </span>
        <span class="byline text-muted">
            <span >
                <a class="user-link" href="../../../../user/oddlydrawn/">u/oddlydrawn</a>

            </span>
            
            
            
            <span title="Posted: 2016-01-24 22:42:22 UTC">24 Jan 2016 22:42</span>
        </span>
    </summary>
    <div class="md"><p>Something like this?</p>
<pre><code>def get_subverse_name(data):
    if data.find('v/') != -1:
        words = data.split(' ')
        w = get_sub_word(words)
        trimmed = w.split('v/')
        # trim non valid characters like punctuation before returning.
        # I'm a python noob
        return trimmed[1]
def get_sub_word(words):
    for i in range(0, len(words)):
        word = words[i]
        if word.find('v/') != -1:
            return word
def main():
    tests = [&quot;test v/sub test2&quot;,
             &quot;test v/sub&quot;,
             &quot;v/sub test&quot;,
             &quot;have you seen v/programming? It's dead sometimes.&quot;]
    for test in tests:
        output = get_subverse_name(test)
        print(&quot;\n#################################################&quot;)
        print(&quot;\ninput:\n&quot; + test)
        print(&quot;\noutput:\n&quot; + output)
        print
if __name__ == '__main__':
    main()
</code></pre>
<p>Edit: It could be improved, though. Instead of get_sub_word() returning a single word, it could return a list of words to find every subname instance. You should probably also check if the sub exists.</p></div>
</details>

</div>
    </main>

<footer class="container-fluid">
  <a class="to-top mt-1 mb-1 btn btn-lg btn-primary" href="#top">top of page</a>
  <p class="small mb-0">
    last archived 28 Apr 2020
    <a href="https://github.com/19-84/redd-archiver">source code</a>
  </p>
</footer>
    </div>

  </body>
</html>