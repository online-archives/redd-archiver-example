<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- SEO Meta Tags -->
<meta name="description" content="Looking through the Voat code I see this. var commentsUrl = new Uri(&#34;http://&#34; + System.Web.HttpContext.Current.Request.Url.Authority +... - v/programming">
<meta name="keywords" content="programming, quot, subverse, var, code, pre, uri, submission, commentsurl, subverseurl">
<meta name="author" content="Redd Archive Demo">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://online-archives.github.io/redd-archiver-example/v/programming/comments/339912.html">

<!-- Open Graph Tags -->
<meta property="og:title" content="v/programming: Optimizing code: Local variables are your friend!">
<meta property="og:description" content="Looking through the Voat code I see this. var commentsUrl = new Uri(&#34;http://&#34; + System.Web.HttpContext.Current.Request.Url.Authority +... - v/programming">
<meta property="og:type" content="article">
<meta property="og:url" content="https://online-archives.github.io/redd-archiver-example/v/programming/comments/339912.html">
<meta property="og:site_name" content="Redd Archive Demo">

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="v/programming: Optimizing code: Local variables are your friend!">
<meta name="twitter:description" content="Looking through the Voat code I see this. var commentsUrl = new Uri(&#34;http://&#34; + System.Web.HttpContext.Current.Request.Url.Authority +... - v/programming">

    <!-- Favicon -->
<link rel="icon" href="../../../../static/favicon.ico" sizes="32x32">
    <link rel="icon" href="../../../../static/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="../../../../static/apple-touch-icon.png">
    <link rel="manifest" href="../../../../static/site.webmanifest">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "DiscussionForumPosting",
  "headline": "Optimizing code: Local variables are your friend!",
  "author": {
    "@type": "Person",
    "name": "roznak"
  },
  "datePublished": "2015-07-25T03:35:16Z",
  "interactionStatistic": {
    "@type": "InteractionCounter",
    "interactionType": "https://schema.org/CommentAction",
    "userInteractionCount": 4
  },
  "isPartOf": {
    "@type": "WebSite",
    "name": "v/programming Archive",
    "url": "https://online-archives.github.io/redd-archiver-example"
  },
  "text": "Looking through the Voat code I see this. var commentsUrl = new Uri(\"http://\" + System.Web.HttpContext.Current.Request.Url.Authority + \"/v/\" + submission.Subverse + \"/comments/\" + submission.Id); var subverseUrl = new Uri(\"http://\" + System.Web.HttpContext.Current.Request.Url.Authority + \"/v/\" + submission.Subverse); New developers are always scared to use local variables and somehow assume that impressive huge one-liners are better but they are not. var subVerse=\"http://\" +..."
}
</script>
    <!-- Font preload removed - using system fonts for instant rendering -->

    <!-- Theme Toggle -->
    <input type="checkbox" id="dark-theme-toggle">

    <!-- Universal CSS Build -->
    <link rel="stylesheet" href="../../../../static/css/redd-archiver-universal.css">


    <title>v/programming: Optimizing code: Local variables are your friend!</title>
  </head>
  <body>
    <div class="site-content">
<header>
  <nav class="navbar navbar-expand-sm navbar-dark bg-primary">
    <a class="navbar-brand" href="../../../../v/programming/index.html">v/programming</a>
    <input type="checkbox" id="navbar-toggle" class="navbar-toggle">
    <label for="navbar-toggle" class="navbar-toggler" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </label>
    <div class="navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="../../../../v/programming/index.html">score</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../v/programming/index-comments/index.html">comments</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../v/programming/index-date/index.html">date</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../search">search</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../../../index.html">home</a>
        </li>
        <li class="nav-item">
          <label for="dark-theme-toggle" class="nav-link theme-toggle" title="Toggle dark theme"></label>
        </li>
      </ul>
    </div>
  </nav>
</header>

    <main role="main" class="container-fluid">
<div class="submission pt-3" data-id="voat_339912">
  <h3 class="title">
      Optimizing code: Local variables are your friend!
    
    
    
    
    
    
  </h3>
  <p>
    <span class="badge badge-primary" title="Score: 17">17</span>
    &nbsp;&nbsp;
    <span title="Posted: 2015-07-25 03:35:16 UTC">25 Jul 2015 03:35</span>
    by <span ><a class="user-link" href="../../../../user/roznak/">u/roznak</a>
</span>
    
    
    <span title=""></span>
  </p>
  <div class="card mt-3 mb-3">
    <div class="card-body">
      <div class="md"><p>Looking through the Voat code I see this.</p>
<pre><code>var commentsUrl = new Uri(&quot;http://&quot; + System.Web.HttpContext.Current.Request.Url.Authority + &quot;/v/&quot; + submission.Subverse + &quot;/comments/&quot; + submission.Id);
var subverseUrl = new Uri(&quot;http://&quot; + System.Web.HttpContext.Current.Request.Url.Authority + &quot;/v/&quot; + submission.Subverse);
</code></pre>
<p>New developers are always scared to use local variables and somehow assume that impressive huge one-liners are better but they are not. </p>
<pre><code>var subVerse=&quot;http://&quot; + System.Web.HttpContext.Current.Request.Url.Authority + &quot;/v/&quot; + submission.Subverse;
var subverseUrl = new Uri(subVerse);
var commentsUrl = new Uri(subVerse+ &quot;/comments/&quot; + submission.Id);
</code></pre>
<p>The second version is more performant since you aid the compiler in telling what it must do. </p>
<p>If you do not use that local variable, then your compiler will guess what to do and to play it safe will probably generate hidden temporary variables using more code than need to be. </p>
<p>The second example is also easier to debug. You can put a break point and actually introduce a faulty test variable.</p>
<pre><code>var subVerse=&quot;http://&quot; + System.Web.HttpContext.Current.Request.Url.Authority + &quot;/v/&quot; + submission.Subverse;
subVerse=&quot;AFuckedUpURL &quot;
var subverseUrl = new Uri(subVerse);
var commentsUrl = new Uri(subVerse+ &quot;/comments/&quot; + submission.Id);
</code></pre>
<p>And now can be easily commented out without touching the code much.</p>
<pre><code>var subVerse=&quot;http://&quot; + System.Web.HttpContext.Current.Request.Url.Authority + &quot;/v/&quot; + submission.Subverse;
// subVerse=&quot;AFuckedUpURL &quot;
var subverseUrl = new Uri(subVerse);
var commentsUrl = new Uri(subVerse+ &quot;/comments/&quot; + submission.Id);
</code></pre>
<p>And toy with it</p>
<pre><code>var subVerse=&quot;http://&quot; + System.Web.HttpContext.Current.Request.Url.Authority + &quot;/v/&quot; + submission.Subverse;
subVerse=subVerse+&quot;DROP TABLE XXX&quot;;
var subverseUrl = new Uri(subVerse);
var commentsUrl = new Uri(subVerse+ &quot;/comments/&quot; + submission.Id);
</code></pre>
<p>I would even go this far  
</p>
<pre><code>var subVerse=&quot;http://&quot; + System.Web.HttpContext.Current.Request.Url.Authority + &quot;/v/&quot; + submission.Subverse;
var subVerseComments=subVerse+ &quot;/comments/&quot; + submission.Id;
var subverseUrl = new Uri(subVerse);
var commentsUrl = new Uri(subVerseComments);
</code></pre>
<p>Now you can go all the way</p>
<pre><code>var subVerse=GetAndCheckSubVerse();;
var subVerseComments=GetAndCheckSubVerseComments(subVerse);
var subverseUrl = new Uri(subVerse);
var commentsUrl = new Uri(subVerseComments);
</code></pre>
<p>And keep toying with it</p>
<pre><code>var subVerse=GetAndCheckSubVerse();;
var subVerseComments=GetAndCheckSubVerseComments(subVerse);
subVerseComments=subVerse
subVerse=subVerse+&quot;bababa&quot;;
var subverseUrl = new Uri(subVerse);
var commentsUrl = new Uri(subVerseComments);
</code></pre>
<p>Edit: </p>
<ul>
<li>The first example has so much information on these 2 lines (aka noise= wall of text) that it is impossible to read.</li>
<li>The last example has reduced noise and is actually very agile to modify the code in any direction you want.</li>
</ul></div>
    </div>
  </div>
</div>

<div class="comments">
  <h4>4 comments</h4>
        <details class="comment "
         id="comment-voat_1337626"
         data-depth="0"
         data-id="voat_1337626"
open>
    <summary class="comment-header">
        <span class="badge badge-success-bright"
              title="Comment score: 1">
            1
        </span>
        <span class="byline text-muted">
            <span >
                <a class="user-link" href="../../../../user/404_SLEEP_NOT_FOUND/">u/404_SLEEP_NOT_FOUND</a>

            </span>
            
            
            
            <span title="Posted: 2015-07-25 06:19:49 UTC">25 Jul 2015 06:19</span>
        </span>
    </summary>
    <div class="md"><blockquote>
<p>The second example is also easier to debug. You can put a break point and actually introduce a faulty test variable.</p>
</blockquote>
<p>Exactly why, in Java, I force myself not to do many references on the same line. It's impossible, in Java, to know which reference (eg: obj1.getObj2().getgetObj3()) throw a null pointer exception. Having to deal with which is null in production is just a real time sink, and at a time where you need fast turn around.</p></div>
</details>

        <details class="comment "
         id="comment-voat_1341546"
         data-depth="0"
         data-id="voat_1341546"
open>
    <summary class="comment-header">
        <span class="badge badge-success-bright"
              title="Comment score: 1">
            1
        </span>
        <span class="byline text-muted">
            <span >
                <a class="user-link" href="../../../../user/awrk/">u/awrk</a>

            </span>
            
            
            
            <span title="Posted: 2015-07-25 13:12:59 UTC">25 Jul 2015 13:12</span>
        </span>
    </summary>
    <div class="md"><p>This would be my one piece of advice to aspiring developers: a line of code should do exactly one thing. I realize that terseness is attractive, and vertical screen space is precious, etc. but if you've written code for any time at all you realize that the time you spend looking at it through a debugger is more precious than any other time you spend writing code, so it should shape how you write code.</p></div>
</details>

</div>
    </main>

<footer class="container-fluid">
  <a class="to-top mt-1 mb-1 btn btn-lg btn-primary" href="#top">top of page</a>
  <p class="small mb-0">
    last archived 28 Apr 2020
    <a href="https://github.com/19-84/redd-archiver">source code</a>
  </p>
</footer>
    </div>

  </body>
</html>